(this.webpackJsonpmetrognome=this.webpackJsonpmetrognome||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),o=n.n(s),c=n(3),r=n.n(c),i=(n(14),n.p,n(15),n(6)),u=n(4),l=n(5),m=n(8),g=n(7),p=(n(16),n.p+"static/media/on.fd8c0096.svg"),d=n.p+"static/media/off.e0c05eab.svg",j=n.p+"static/media/plus.d5048b9a.svg",f=n.p+"static/media/minus.fa839e7c.svg",b=(n(17),function(e){var t=e.songName,n=e.tempo,s=e.clickHandler;return console.log(t,n),Object(a.jsx)("div",{className:"songs-container",children:Object(a.jsx)("button",{className:"song-btn",onClick:function(){return s("custom",n)},children:t})})}),h=function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).nextNote=function(){var e=60/a.state.tempo;a.setState({nextNoteTime:a.state.nextNoteTime+e,currentQuarterNote:a.state.currentQuarterNote+1}),4===a.state.currentQuarterNote&&a.setState({currentQuarterNote:0})},a.scheduleNote=function(e,t){a.setState({notesInQueue:[].concat(Object(i.a)(a.state.notesInQueue),[{note:e,time:t}])});var n=a.state.audioContext.createOscillator(),s=a.state.audioContext.createGain();n.frequency.value=e%4===0?1300:1e3,s.gain.value=1,s.gain.exponentialRampToValueAtTime(1,t+.001),s.gain.exponentialRampToValueAtTime(.001,t+.02),n.connect(s),s.connect(a.state.audioContext.destination),n.start(t),n.stop(t+.03)},a.scheduler=function(){for(;a.state.nextNoteTime<a.state.audioContext.currentTime+a.state.scheduleAheadTime;)a.scheduleNote(a.state.currentQuarterNote,a.state.nextNoteTime),a.nextNote()},a.start=function(){a.state.isRunning||(null===a.state.audioContext&&a.setState({audioContext:new(window.AudioContext||window.webkitAudioContext)}),a.setState({isRunning:!0,currentQuarterNote:0,nextNoteTime:.05,intervalID:setInterval((function(){return a.scheduler()}),a.state.lookahead)}))},a.stop=function(){a.setState({isRunning:!1}),clearInterval(a.state.intervalID)},a.startStop=function(){console.log(a.state.tempo),a.state.isRunning?a.stop():a.start()},a.tweakTempo=function(e,t){"minus"===e&&a.setState({tempo:parseInt(a.state.tempo)-1}),"add"===e?a.setState({tempo:parseInt(a.state.tempo)+1}):"custom"===e&&a.setState({tempo:parseInt(t)})},a.saveSongToStorage=function(e){var t,n=document.querySelector("#songName").value;(t=null===localStorage.getItem("songs")?{}:JSON.parse(localStorage.getItem("songs")))[n]||(t[n]=a.state.tempo),localStorage.setItem("songs",JSON.stringify(t))},a.checkTempo=function(){console.log(JSON.parse(localStorage.getItem("songs"))),a.state.tempo<120&&a.setState({message:"This be some love making music"}),a.state.tempo>=120&&a.state.tempo<139&&a.setState({message:"DIS BOPS DOE"}),a.state.tempo>=139&&a.state.tempo<159&&a.setState({message:"We rarely play in this tempo range. Challenge accepted?"}),a.state.tempo>=159&&a.state.tempo<180&&a.setState({message:"Get in the zone, your comfort zone"}),a.state.tempo>=181&&a.setState({message:"You drank a lot of coffee..."})},a.state={audioContext:null,notesInQueue:[],currentQuarterNote:0,tempo:120,lookahead:25,scheduleAheadTime:.1,nextNoteTime:0,isRunning:!1,intervalID:null,message:"Quit all the malarkey and start practicing!"},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"metronome",children:[Object(a.jsx)("p",{children:this.state.message}),Object(a.jsxs)("p",{className:"current-bpm",children:[" ",this.state.tempo," bpm"]}),Object(a.jsxs)("div",{className:"slider",children:[Object(a.jsx)("img",{className:"tempo-change",src:f,alt:"decrease BPM by 1",onClick:function(){e.tweakTempo("minus")}}),Object(a.jsx)("input",{type:"range",min:"60",max:"240",value:this.state.tempo,onChange:function(t){return e.setState({tempo:t.target.value},e.checkTempo())}}),Object(a.jsx)("img",{className:"tempo-change",src:j,alt:"increase BPM by 1",onClick:function(){e.tweakTempo("add")}})]}),Object(a.jsx)("button",{onClick:function(){return e.startStop()},children:this.state.isRunning?Object(a.jsx)("img",{className:"on-off",src:d,alt:"turn off"}):Object(a.jsx)("img",{className:"on-off",src:p,alt:"turn on"})}),Object(a.jsxs)("form",{className:"save-tempo-form",children:[Object(a.jsx)("input",{type:"text",id:"songName",className:"song-name-input",placeholder:"song name"}),Object(a.jsxs)("div",{class:"save-clear-buttons",children:[Object(a.jsx)("button",{className:"save-btn",onClick:function(){return e.saveSongToStorage("save")},children:"SAVE"}),Object(a.jsx)("button",{className:"clr-btn",onClick:function(){return localStorage.clear()},children:"CLEAR"})]})]}),Object(a.jsx)("div",{className:"saved-songs",children:localStorage.getItem("songs")&&Object.keys(JSON.parse(localStorage.getItem("songs"))).map((function(t){return Object(a.jsx)(b,{clickHandler:e.tweakTempo,songName:t,tempo:JSON.parse(localStorage.getItem("songs"))[t]})}))})]})}}]),n}(o.a.Component),x=(n(18),function(){return Object(a.jsx)("div",{className:"header",children:"metrognome."})});var N=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(x,{}),Object(a.jsx)(h,{})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root")),v()}],[[19,1,2]]]);
//# sourceMappingURL=main.1a2e75c1.chunk.js.map