(this.webpackJsonpmetrognome=this.webpackJsonpmetrognome||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),o=n.n(s),c=n(7),r=n.n(c),i=(n(18),n.p,n(19),n(10)),l=n(8),u=n(9),m=n(12),d=n(11),p=(n(20),n.p+"static/media/on.fd8c0096.svg"),g=n.p+"static/media/off.e0c05eab.svg",j=n.p+"static/media/plus.d5048b9a.svg",b=n.p+"static/media/minus.fa839e7c.svg",x=(n(21),n(22),n(3)),h=function(e){var t=e.songName,n=e.tempo,s=e.clickHandler,o=e.currentTempo;console.log(o,parseInt(n));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(x.a,{as:"ul",defaultActiveKey:"#link1",children:o===parseInt(n)?Object(a.jsxs)(x.a.Item,{as:"li",className:"song-name",active:!0,onClick:function(){return s("custom",n)},children:[t," (",n," BPM)"]}):Object(a.jsxs)(x.a.Item,{as:"li",className:"song-name",onClick:function(){return s("custom",n)},children:[t," (",n," BPM)"]})})})},f=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).nextNote=function(){var e=60/a.state.tempo;a.setState({nextNoteTime:a.state.nextNoteTime+e,currentQuarterNote:a.state.currentQuarterNote+1}),4===a.state.currentQuarterNote&&a.setState({currentQuarterNote:0})},a.componentDidUpdate=function(){localStorage.setItem("currentTempo",a.state.tempo)},a.scheduleNote=function(e,t){a.setState({notesInQueue:[].concat(Object(i.a)(a.state.notesInQueue),[{note:e,time:t}])});var n=a.state.audioContext.createOscillator(),s=a.state.audioContext.createGain();n.frequency.value=e%4===0?1300:1e3,s.gain.value=1,s.gain.exponentialRampToValueAtTime(1,t+.001),s.gain.exponentialRampToValueAtTime(.001,t+.02),n.connect(s),s.connect(a.state.audioContext.destination),n.start(t),n.stop(t+.03)},a.scheduler=function(){for(;a.state.nextNoteTime<a.state.audioContext.currentTime+a.state.scheduleAheadTime;)a.scheduleNote(a.state.currentQuarterNote,a.state.nextNoteTime),a.nextNote()},a.start=function(){a.state.isRunning||(null===a.state.audioContext&&a.setState({audioContext:new(window.AudioContext||window.webkitAudioContext)}),a.setState({isRunning:!0,currentQuarterNote:0,nextNoteTime:.05,intervalID:setInterval((function(){return a.scheduler()}),a.state.lookahead)}))},a.stop=function(){a.setState({isRunning:!1}),clearInterval(a.state.intervalID)},a.startStop=function(){console.log(a.state.tempo),a.state.isRunning?a.stop():a.start()},a.tweakTempo=function(e,t){"minus"===e&&a.setState({tempo:parseInt(a.state.tempo)-1}),"add"===e?a.setState({tempo:parseInt(a.state.tempo)+1}):"custom"===e&&a.setState({tempo:parseInt(t)})},a.saveSongToStorage=function(e){var t,n=document.querySelector("#songName").value;(t=null===localStorage.getItem("songs")?{}:JSON.parse(localStorage.getItem("songs")))[n]||(t[n]=a.state.tempo),localStorage.setItem("songs",JSON.stringify(t))},a.state={audioContext:null,notesInQueue:[],currentQuarterNote:0,tempo:localStorage.getItem("currentTempo")||120,lookahead:25,scheduleAheadTime:.1,nextNoteTime:0,isRunning:!1,intervalID:null,message:"Quit all the malarkey and start practicing!"},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"metronome-container",children:[Object(a.jsxs)("div",{className:"metronome",children:[Object(a.jsx)("p",{children:this.state.message}),Object(a.jsxs)("p",{className:"current-bpm",children:[" ",this.state.tempo," bpm"]}),Object(a.jsxs)("div",{className:"slider",children:[Object(a.jsx)("img",{className:"tempo-change",src:b,alt:"decrease BPM by 1",onClick:function(){e.tweakTempo("minus")}}),Object(a.jsx)("input",{type:"range",min:"60",max:"240",value:this.state.tempo,onChange:function(t){return e.setState({tempo:t.target.value})}}),Object(a.jsx)("img",{className:"tempo-change",src:j,alt:"increase BPM by 1",onClick:function(){e.tweakTempo("add")}})]}),Object(a.jsx)("button",{onClick:function(){return e.startStop()},children:this.state.isRunning?Object(a.jsx)("img",{className:"on-off",src:g,alt:"turn off"}):Object(a.jsx)("img",{className:"on-off",src:p,alt:"turn on"})}),Object(a.jsxs)("form",{className:"save-tempo-form",children:[Object(a.jsx)("label",{for:"song name input",children:Object(a.jsx)("input",{type:"text",id:"songName",className:"song-name-input",placeholder:"Type your song name"})}),Object(a.jsxs)("div",{class:"save-clear-buttons",children:[Object(a.jsx)("button",{className:"save-btn",onClick:function(){return e.saveSongToStorage("save")},children:"SAVE"}),Object(a.jsx)("button",{className:"clr-btn",onClick:function(){return localStorage.clear()},children:"CLEAR"})]})]})]}),Object(a.jsxs)("div",{className:"saved-songs",children:[Object(a.jsx)("h2",{className:"saved-songs-header",children:"Saved Songs"}),localStorage.getItem("songs")&&Object.keys(JSON.parse(localStorage.getItem("songs"))).map((function(t){return Object(a.jsx)(h,{clickHandler:e.tweakTempo,songName:t,currentTempo:e.state.tempo,tempo:JSON.parse(localStorage.getItem("songs"))[t]})}))]})]})}}]),n}(o.a.Component),v=(n(23),function(){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("p",{children:"metrognome v"}),Object(a.jsx)("p",{children:"2.1.1"})]})});var N=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(v,{}),Object(a.jsx)(f,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root")),O()}},[[24,1,2]]]);
//# sourceMappingURL=main.2cbc916b.chunk.js.map